# -- pnpm security-hardened configuration --
# Thunderbird extension: no production runtime dependencies,
# everything is bundled via webpack, so we can be maximally strict.

# -- Peer dependencies --
# Fail loudly on missing or incompatible peers instead of silently
# auto-installing them. This keeps the dependency tree explicit.
strict-peer-dependencies=true
auto-install-peers=false

# -- Script execution --
# Never run pre/post/install scripts from dependencies.
# This is the single biggest supply-chain attack vector in npm.
ignore-scripts=true

# -- Network and registry --
# Verify package integrity checksums; enforce TLS.
strict-ssl=true
registry=https://registry.npmjs.org/

# -- Misc hardening --
# Do not hoist packages: keeps each package isolated to its own
# node_modules, preventing phantom dependency usage.
hoist=false
shamefully-hoist=false
# Prefer the highest matching version so security patches are picked up.
resolution-mode=highest
